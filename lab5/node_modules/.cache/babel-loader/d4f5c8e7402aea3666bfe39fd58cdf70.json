{"ast":null,"code":"import _toConsumableArray from\"/home/bartosz/PIW_Lab/lab4/lab4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/bartosz/PIW_Lab/lab4/lab4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/bartosz/PIW_Lab/lab4/lab4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/bartosz/PIW_Lab/lab4/lab4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/bartosz/PIW_Lab/lab4/lab4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddStudent=/*#__PURE__*/function(_Component){_inherits(AddStudent,_Component);var _super=_createSuper(AddStudent);function AddStudent(props){var _this;_classCallCheck(this,AddStudent);_this=_super.call(this,props);_this.onSubmit=function(e){e.preventDefault();if(_this.name===''){alert('Please add a student name');return;}_this.props.onAdd(_this.state.name,_this.state.description,_this.state.mail,_this.state.tags,false);_this.setState({name:'',description:'',mail:'',tags:[]});};_this.getSuggestions=function(e){var val=e.target.value;var result=_this.state.allTags.filter(function(tag){return tag.includes(val);});_this.setState({suggestions:result});if(_this.tagInput.value===''||!val){_this.setState({suggestions:[]});}};_this.inputKeyDown=function(e){var val=e.target.value;if(e.key==='Enter'&&val){if(_this.state.tags.find(function(tag){return tag.toLowerCase()===val.toLowerCase();})){return;}_this.setState({tags:[].concat(_toConsumableArray(_this.state.tags),[val])});if(!_this.state.allTags.find(function(tag){return tag.toLowerCase()===val.toLowerCase();})){_this.setState({allTags:[].concat(_toConsumableArray(_this.state.allTags),[val])});}_this.setState({suggestions:[]});_this.tagInput.value=null;}else if(e.key==='Backspace'&&!val){_this.removeTag(_this.state.tags.length-1);}};_this.addFromSugestions=function(i){var suggestions=_toConsumableArray(_this.state.suggestions);if(_this.state.tags.find(function(tag){return tag.toLowerCase()===suggestions[i].toLowerCase();})){return;}_this.setState({tags:[].concat(_toConsumableArray(_this.state.tags),[suggestions[i]])});_this.tagInput.value=null;_this.setState({suggestions:[]});};_this.removeTag=function(i){var newTags=_toConsumableArray(_this.state.tags);newTags.splice(i,1);_this.setState({tags:newTags});};_this.state={name:'',mail:'',description:'',tags:[],allTags:['c++','java','php','python','javascript','docker','html','css','react','spring','c#','matlab','c','assembler'],suggestions:[]};return _this;}_createClass(AddStudent,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"form\",{className:\"addStudent\",onSubmit:this.onSubmit,onKeyPress:function onKeyPress(e){e.key==='Enter'&&e.preventDefault();},children:[/*#__PURE__*/_jsx(\"p\",{children:\"Dodaj nowego studenta\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Imie i nazwisko\",value:this.state.name||'',onChange:function onChange(e){return _this2.setState({name:e.target.value});}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Opis\",value:this.state.description||'',onChange:function onChange(e){return _this2.setState({description:e.target.value});}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\",value:this.state.mail||'',onChange:function onChange(e){return _this2.setState({mail:e.target.value});}})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-tag\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"input-tag__tags\",children:[this.state.tags.map(function(tag,i){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){_this2.removeTag(i);},children:tag})},tag);}),/*#__PURE__*/_jsx(\"li\",{className:\"input-tag__tags__input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Dodaj tagi\",onChange:this.getSuggestions,onKeyDown:this.inputKeyDown,ref:function ref(c){_this2.tagInput=c;}})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-tag\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"input-tag__tags\",children:this.state.suggestions.map(function(tag,i){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){_this2.addFromSugestions(i);},children:tag})},tag.uniqueId);})})}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"submitButton\",value:\"Save Student\"})]});}}]);return AddStudent;}(Component);export{AddStudent as default};","map":{"version":3,"sources":["/home/bartosz/PIW_Lab/lab4/lab4/src/components/AddStudent.js"],"names":["React","Component","AddStudent","props","onSubmit","e","preventDefault","name","alert","onAdd","state","description","mail","tags","setState","getSuggestions","val","target","value","result","allTags","filter","tag","includes","suggestions","tagInput","inputKeyDown","key","find","toLowerCase","removeTag","length","addFromSugestions","i","newTags","splice","map","c","uniqueId"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nexport default class AddStudent extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: '',\n            mail: '',\n            description: '',\n            tags: [],\n            allTags: ['c++', 'java', 'php', 'python', 'javascript', 'docker', 'html', 'css', 'react', 'spring', 'c#', 'matlab', 'c', 'assembler'],\n            suggestions: []\n        };\n    }\n\n    onSubmit = (e) => {\n\n        e.preventDefault()\n\n        if (this.name === '') {\n            alert('Please add a student name')\n            return\n        }\n\n        this.props.onAdd(this.state.name, this.state.description, this.state.mail, this.state.tags, false)\n\n        this.setState({ name: '', description: '', mail: '', tags: [] })\n    }\n\n    getSuggestions = (e) => {\n        const val = e.target.value;\n\n        const result = this.state.allTags.filter(tag => tag.includes(val))        \n        this.setState({ suggestions: result })\n\n        if (this.tagInput.value === '' || !val) {\n            this.setState({ suggestions: [] })\n        }\n    }\n\n    inputKeyDown = (e) => {\n        const val = e.target.value;\n\n        if (e.key === 'Enter' && val) {\n            if (this.state.tags.find(tag => tag.toLowerCase() === val.toLowerCase())) {\n                return;\n            }\n            this.setState({ tags: [...this.state.tags, val] });\n            if (!this.state.allTags.find(tag => tag.toLowerCase() === val.toLowerCase())) {\n                this.setState({ allTags: [...this.state.allTags, val] });\n            }\n            this.setState({suggestions: []})\n            this.tagInput.value = null;\n        }\n        else if (e.key === 'Backspace' && !val) {\n            this.removeTag(this.state.tags.length - 1);\n        }\n    }\n\n    addFromSugestions = (i) => {\n        const suggestions = [...this.state.suggestions];\n        if (this.state.tags.find(tag => tag.toLowerCase() === suggestions[i].toLowerCase())) {\n            return;\n        }\n        this.setState({ tags: [...this.state.tags, suggestions[i]] })\n        this.tagInput.value = null;\n        this.setState({suggestions: []})\n    }\n\n    removeTag = (i) => {\n        const newTags = [...this.state.tags];\n        newTags.splice(i, 1);\n        this.setState({ tags: newTags });\n    }\n\n    render() {\n        return (\n            <form className='addStudent' onSubmit={this.onSubmit} onKeyPress={(e) => { e.key === 'Enter' && e.preventDefault(); }}>\n                <p>Dodaj nowego studenta</p>\n\n                <div>                    \n                    <input type=\"text\"\n                        placeholder='Imie i nazwisko'\n                        value={this.state.name || ''}\n                        onChange={(e) => this.setState({ name: e.target.value })} />\n                </div>\n\n                <div>                    \n                    <input type=\"text\"\n                        placeholder='Opis'\n                        value={this.state.description || ''}\n                        onChange={(e) => this.setState({ description: e.target.value })} />\n                </div>\n\n                <div>                    \n                    <input type=\"text\"\n                        placeholder='Email'\n                        value={this.state.mail || ''}\n                        onChange={(e) => this.setState({ mail: e.target.value })} />\n                </div>\n\n                <div className=\"input-tag\">\n                    <ul className=\"input-tag__tags\">\n\n                        {this.state.tags.map((tag, i) => (\n                            <li key={tag}>                                \n                                <button type=\"button\" onClick={() => { this.removeTag(i); }}>{tag}</button>\n                            </li>\n                        ))}\n\n                        <li className=\"input-tag__tags__input\">\n                            <input type=\"text\" placeholder='Dodaj tagi' onChange={this.getSuggestions} onKeyDown={this.inputKeyDown} ref={c => { this.tagInput = c; }} />\n                        </li>\n\n                    </ul>\n\n                </div>\n\n                <div className=\"input-tag\">\n                    <ul className=\"input-tag__tags\">\n                        {this.state.suggestions.map((tag, i) => (\n                            <li key={tag.uniqueId}>                                \n                                <button type=\"button\" onClick={() => { this.addFromSugestions(i); }}>{tag}</button>\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n\n                <input type='submit' className='submitButton' value='Save Student' />\n\n            </form>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}