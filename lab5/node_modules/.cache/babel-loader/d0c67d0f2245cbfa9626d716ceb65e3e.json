{"ast":null,"code":"import _toConsumableArray from\"/home/bartosz/PIW_Lab/lab4/lab4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/bartosz/PIW_Lab/lab4/lab4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/bartosz/PIW_Lab/lab4/lab4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/bartosz/PIW_Lab/lab4/lab4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/bartosz/PIW_Lab/lab4/lab4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SearchFilter=/*#__PURE__*/function(_Component){_inherits(SearchFilter,_Component);var _super=_createSuper(SearchFilter);function SearchFilter(){var _this;_classCallCheck(this,SearchFilter);_this=_super.call(this);_this.showFavorites=function(){if(_this.myCheck.checked){_this.props.showFavorites();}else{_this.props.filter(_this.descriptionInput.value,_this.state.tags);}};_this.filter=function(e){_this.props.filter(_this.descriptionInput.value,_this.state.tags);};_this.addTag=function(e){var val=e.target.value;if(e.key==='Enter'&&val){if(_this.state.tags.find(function(tag){return tag.toLowerCase()===val.toLowerCase();})){return;}_this.setState({tags:[].concat(_toConsumableArray(_this.state.tags),[val])});_this.tagInput.value=null;}else if(e.key==='Backspace'&&!val){_this.removeTag(_this.state.tags.length-1);}};_this.removeTag=function(i){var newTags=_toConsumableArray(_this.state.tags);newTags.splice(i,1);_this.setState({tags:newTags});};_this.state={searchTag:'Wyszukuj po tagach',searchDescription:'Wyszukuj po opisach',tags:[]};return _this;}_createClass(SearchFilter,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"headerBlock\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-tag2\",children:/*#__PURE__*/_jsx(\"input\",{className:\"input-tag__tags\",type:\"text\",placeholder:\"Wyszukuj po opisach\",onChange:this.filter,ref:function ref(d){_this2.descriptionInput=d;}})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-tag2\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"input-tag__tags\",children:[this.state.tags.map(function(tag,i){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){_this2.removeTag(i);},children:tag})},tag);}),/*#__PURE__*/_jsx(\"li\",{className:\"input-tag__tags__input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Wyszukuj po tagach\",onKeyDown:this.addTag,onKeyUp:this.filter,ref:function ref(c){_this2.tagInput=c;}})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"onlyFavorites\",children:[/*#__PURE__*/_jsx(_Fragment,{children:\"Pokaz tylko ulubionych\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:this.showFavorites,ref:function ref(d){_this2.myCheck=d;}})]})]});}}]);return SearchFilter;}(Component);export{SearchFilter as default};","map":{"version":3,"sources":["/home/bartosz/PIW_Lab/lab4/lab4/src/components/SearchFilter.js"],"names":["React","Component","SearchFilter","showFavorites","myCheck","checked","props","filter","descriptionInput","value","state","tags","e","addTag","val","target","key","find","tag","toLowerCase","setState","tagInput","removeTag","length","i","newTags","splice","searchTag","searchDescription","d","map","c"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nexport default class SearchFilter extends Component {\n  constructor() {\n    super();\n    this.state = {\n      searchTag: 'Wyszukuj po tagach',\n      searchDescription: 'Wyszukuj po opisach',\n      tags: []\n    }\n  }\n\n  showFavorites = () => {\n    if (this.myCheck.checked) {\n      this.props.showFavorites()\n    } else {\n      this.props.filter(this.descriptionInput.value, this.state.tags)\n    }\n  }\n\n  filter = (e) => {\n    this.props.filter(this.descriptionInput.value, this.state.tags)\n  }\n\n  addTag = (e) => {\n    const val = e.target.value;\n    if (e.key === 'Enter' && val) {\n      if (this.state.tags.find(tag => tag.toLowerCase() === val.toLowerCase())) {\n        return;\n      }\n      this.setState({ tags: [...this.state.tags, val] });\n      this.tagInput.value = null;\n    }\n    else if (e.key === 'Backspace' && !val) {\n      this.removeTag(this.state.tags.length - 1);\n    }\n  }\n\n  removeTag = (i) => {\n    const newTags = [...this.state.tags];\n    newTags.splice(i, 1);\n    this.setState({ tags: newTags });\n  }\n\n  render() {\n    return (\n      <div className=\"headerBlock\">\n        <div className=\"input-tag2\">\n          <input className=\"input-tag__tags\"\n            type=\"text\"\n            placeholder='Wyszukuj po opisach'\n            onChange={this.filter}\n            ref={d => { this.descriptionInput = d; }}\n          />\n        </div>\n        <div className=\"input-tag2\">\n          <ul className=\"input-tag__tags\">\n\n            {this.state.tags.map((tag, i) => (\n              <li key={tag}>                \n                <button type=\"button\" onClick={() => { this.removeTag(i); }}>{tag}</button>\n              </li>\n            ))}\n\n            <li className=\"input-tag__tags__input\">\n              <input type=\"text\" placeholder='Wyszukuj po tagach' onKeyDown={this.addTag} onKeyUp={this.filter} ref={c => { this.tagInput = c; }} />\n            </li>\n\n          </ul>\n\n        </div>\n        <div className='onlyFavorites'>\n          <>Pokaz tylko ulubionych</>\n          <input type=\"checkbox\" onChange={this.showFavorites} ref={d => { this.myCheck = d; }} />\n        </div>\n      </div>\n    )\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}