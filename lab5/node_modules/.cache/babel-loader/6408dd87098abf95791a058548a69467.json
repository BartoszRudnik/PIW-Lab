{"ast":null,"code":"import _toConsumableArray from\"/home/bartosz/PIW_Lab/lab4/lab4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/bartosz/PIW_Lab/lab4/lab4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import AddStudent from'./components/AddStudent';import SearchFilter from'./components/SearchFilter';import{StudentList}from'./components/StudentList';import{useState}from'react';import React from'react';import{NumberOfFoundUsers}from'./components/NumberOfFoundUsers';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),students=_useState2[0],setStudents=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filteredStudents=_useState4[0],setFilteredStudents=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),favoriteStudents=_useState6[0],setFavoriteStudents=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),usersFound=_useState8[0],setUsersFound=_useState8[1];var addStudent=function addStudent(name,description,email,tags,isFavorite){var id=Math.floor(Math.random()*10000)+1;var newStudent={id:id,name:name,description:description,email:email,tags:tags,isFavorite:isFavorite};setStudents([].concat(_toConsumableArray(students),[newStudent]));setFilteredStudents([].concat(_toConsumableArray(filteredStudents),[newStudent]));setUsersFound(students.length+1);};var deleteFromFavorites=function deleteFromFavorites(id){var result=favoriteStudents.filter(function(student){return student.id!==id&&student!==null;});setFavoriteStudents(result);};var addToFavorites=function addToFavorites(name,description,tags,id){var newStudent={id:id,name:name,description:description,tags:tags};setFavoriteStudents([].concat(_toConsumableArray(favoriteStudents),[newStudent]));};var showFavorites=function showFavorites(){setUsersFound(favoriteStudents.length);setFilteredStudents(_toConsumableArray(favoriteStudents));};var filter=function filter(enteredDescription,enteredTags){if(enteredTags.length>0){var result=students.filter(function(student){for(var ent in enteredTags){var isPresent=false;for(var tag in student.tags){if(student.tags[tag]===enteredTags[ent]){isPresent=true;break;}}if(!isPresent){return false;}}return true;});setFilteredStudents(result);setUsersFound(result.length);if(enteredDescription!==''){var newResult=result.filter(function(item){return item.description.toLowerCase().includes(enteredDescription.toLowerCase());}).map(function(_ref){var id=_ref.id,name=_ref.name,description=_ref.description,email=_ref.email,tags=_ref.tags;return{id:id,name:name,description:description,email:email,tags:tags};});setFilteredStudents(newResult);setUsersFound(newResult.length);}}else if(enteredTags.length===0&&enteredDescription!==''){var _result=students.filter(function(item){return item.description.toLowerCase().includes(enteredDescription.toLowerCase());}).map(function(_ref2){var id=_ref2.id,name=_ref2.name,description=_ref2.description,email=_ref2.email,tags=_ref2.tags;return{id:id,name:name,description:description,email:email,tags:tags};});setFilteredStudents(_result);setUsersFound(_result.length);}else{setFilteredStudents(students);setUsersFound(students.length);}};return/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(SearchFilter,{filter:filter,showFavorites:showFavorites}),/*#__PURE__*/_jsx(NumberOfFoundUsers,{foundUsers:usersFound})]}),/*#__PURE__*/_jsx(AddStudent,{onAdd:addStudent}),/*#__PURE__*/_jsx(StudentList,{students:filteredStudents,addToFavorites:addToFavorites,deleteFromFavorites:deleteFromFavorites})]})});}export default App;","map":{"version":3,"sources":["/home/bartosz/PIW_Lab/lab4/lab4/src/App.js"],"names":["AddStudent","SearchFilter","StudentList","useState","React","NumberOfFoundUsers","App","students","setStudents","filteredStudents","setFilteredStudents","favoriteStudents","setFavoriteStudents","usersFound","setUsersFound","addStudent","name","description","email","tags","isFavorite","id","Math","floor","random","newStudent","length","deleteFromFavorites","result","filter","student","addToFavorites","showFavorites","enteredDescription","enteredTags","ent","isPresent","tag","newResult","item","toLowerCase","includes","map"],"mappings":"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","sourcesContent":["import AddStudent from './components/AddStudent'\nimport SearchFilter from './components/SearchFilter'\nimport { StudentList } from './components/StudentList'\nimport { useState } from 'react'\nimport React from 'react'\nimport { NumberOfFoundUsers } from './components/NumberOfFoundUsers'\n\nfunction App() {\n  const [students, setStudents] = useState([])\n  const [filteredStudents, setFilteredStudents] = useState([])\n  const [favoriteStudents, setFavoriteStudents] = useState([])\n  const [usersFound, setUsersFound] = useState(0)\n\n  const addStudent = (name, description, email, tags, isFavorite) => {\n    const id = Math.floor(Math.random() * 10000) + 1\n\n    const newStudent = { id, name, description, email, tags, isFavorite }\n\n    setStudents([...students, newStudent])\n    setFilteredStudents([...filteredStudents, newStudent])\n    setUsersFound(students.length + 1)\n  }\n\n  const deleteFromFavorites = (id) => {\n    const result = favoriteStudents.filter((student) => student.id !== id && student !== null)\n    setFavoriteStudents(result)\n  }\n\n  const addToFavorites = (name, description, tags, id) => {\n    const newStudent = { id, name, description, tags }\n    setFavoriteStudents([...favoriteStudents, newStudent])\n  }\n\n  const showFavorites = () => {\n    setUsersFound(favoriteStudents.length)\n    setFilteredStudents([...favoriteStudents])\n  }\n\n  const filter = (enteredDescription, enteredTags) => {\n    if (enteredTags.length > 0) {\n      const result = students.filter((student) => {\n        for (var ent in enteredTags) {\n          var isPresent = false;\n          for (var tag in student.tags) {\n            if (student.tags[tag] === enteredTags[ent]) {\n              isPresent = true;\n              break;\n            }\n          }\n          if (!isPresent) {\n            return false;\n          }\n        }\n        return true;\n      })\n      setFilteredStudents(result)\n      setUsersFound(result.length)\n      if (enteredDescription !== '') {\n        const newResult = result.filter((item) => item.description.toLowerCase().includes(enteredDescription.toLowerCase())).map(({ id, name, description, email, tags }) => ({ id, name, description, email, tags }));\n        setFilteredStudents(newResult)\n        setUsersFound(newResult.length)\n      }\n    }\n    else if (enteredTags.length === 0 && enteredDescription !== '') {\n      const result = students.filter((item) => item.description.toLowerCase().includes(enteredDescription.toLowerCase())).map(({ id, name, description, email, tags }) => ({ id, name, description, email, tags }));\n      setFilteredStudents(result)\n      setUsersFound(result.length)\n    }\n    else {\n      setFilteredStudents(students)\n      setUsersFound(students.length)\n    }\n  }\n\n  return (\n    <React.StrictMode>\n      <div className=\"App\">\n        <div className='header'>\n          <SearchFilter filter={filter} showFavorites={showFavorites} />\n          <NumberOfFoundUsers foundUsers={usersFound} />\n        </div>\n        <AddStudent onAdd={addStudent} />\n        <StudentList students={filteredStudents} addToFavorites={addToFavorites} deleteFromFavorites={deleteFromFavorites} />\n      </div>\n    </React.StrictMode >\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}